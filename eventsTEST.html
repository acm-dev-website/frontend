<!DOCTYPE html>
<html>
<head>
  <link rel="styleSheet" href="events.css"/>
  <link rel="styleSheet" href="style.css"/>
  <link rel="preconnect" href="https://rsms.me/">
  <link rel="stylesheet" href="https://rsms.me/inter/inter.css">     
</head>
<body>
  <div class="main" >
              <div class="background_n_logo">
                <div class = "spin2">
                  <img class="Acm_Logo" src="Graphics/acmlogo.png">
                  </div>
              </div>
              <div class="btn_n_background">
                  <a href="index.html" >
                     <button class = "btn homebtn">Home</button>
                  </a>
                  <a href="leadership.html" >
                     <button class = "btn leadershipbtn">Leadership</button>
                  </a>
                  <a href="projects.html" >
                     <button class = "btn projectssbtn">Projects</button>
                  </a>
                  <a href="workshops.html" >
                     <button class = "btn workshopsbtn">Workshops</button>
                  </a>
                  <a href="events.html" >
                     <button class = "btn eventsbtn">Events</button>
                  </a>
                  <div class="dropdown">
                      <button class="dropdown-button morebtn">More</button>
                      <div class="dropdown-content">
                        <a href="sponsorships.html" class="btn_dropdown sponsorshipsbtn">Sponsorships</a>
                        <a href="merchandise.html" class="btn_dropdown merchandisebtn">Merchandise</a>
                        <a href="calendar.html" class="btn_dropdown calendarbtn">Calendar</a>
                        <a href="important-links.html" class="btn_dropdown importantlinksbtn">Important Links</a>
                      </div>
                  </div>
              </div>
  </div>
  <div class="events">
    <h1 class="mainHeader">Events</h1>
    
    <ul id="eventList"></ul>

    <script>
        // Function to create HTML elements for each event
        function createEventElement(event) {
            const li = document.createElement("li");
            li.classList.add("eventElement");

            const divInfoBox = document.createElement("div");
            divInfoBox.classList.add("eventInfoBox");

            const divDetails = document.createElement("div");
            divDetails.classList.add("eventDetails");

            // Iterate through event properties and create <p> elements
            for (const prop in event) {
                if (event[prop]) {
                    const p = document.createElement("p");
                    p.classList.add(`event${prop.charAt(0).toUpperCase() + prop.slice(1)}`);
                    p.innerHTML = `<strong>${prop.charAt(0).toUpperCase() + prop.slice(1)}:</strong> ${event[prop]}`;
                    divDetails.appendChild(p);
                }
            }

            divInfoBox.appendChild(divDetails);

            if (event.imageName) {
                const img = document.createElement("img");
                img.classList.add("eventImg");
                img.src = `Graphics/${event.imageName}`;
                divInfoBox.appendChild(img);
            }

            li.appendChild(divInfoBox);

            return li;
        }

        // Get the ul element to append event elements
        const eventList = document.getElementById("eventList");

        // Fetch JSON data from the external file
        fetch('event.json')
            .then(response => response.json())
            .then(jsonData => {
                // Loop through each event in the JSON data and append to the ul element
                jsonData.message.forEach(event => {
                    const eventElement = createEventElement(event);
                    eventList.appendChild(eventElement);
                });
            })
            .catch(error => console.error('Error fetching JSON:', error));
    </script>
    
    <h1 class="mainHeader">Past Events</h1>
    <ul>
      <li class="eventElement">
        <div class="eventInfoBox">
          <div class="eventDetails">
            <p class="eventName"><strong>A Past Event</strong></p>
            <p class="eventHeaderDate"><strong>MM/DD/YYYY</strong></p>
            <p class="eventHosts"><strong>Hosted by:</strong> Leader 1 and Host 2</p>
            <p class="eventDate"><strong>Date:</strong> A Date</p>
            <p class="eventDescription"><strong>Description:</strong> A Description</p>
          </div>
        </div>
        <img class="eventImg" src="Graphics/acmlogo.png">
      </li>
      <li class="eventElement">
        <div class="eventInfoBox">
          <div class="eventDetails">
            <p class="eventName"><strong>A Past Event</strong></p>
            <p class="eventHeaderDate"><strong>MM/DD/YYYY</strong></p>
            <p class="eventHosts"><strong>Hosted by:</strong> Leader 1 and Host 2</p>
            <p class="eventDate"><strong>Date:</strong> A Date</p>
            <p class="eventDescription"><strong>Description:</strong> A Description</p>
          </div>
        </div>
        <img class="eventImg" src="Graphics/acmlogo.png">
      </li>
      <li class="eventElement">
        <div class="eventInfoBox">
          <div class="eventDetails">
            <p class="eventName"><strong>A Past Event</strong></p>
            <p class="eventHeaderDate"><strong>MM/DD/YYYY</strong></p>
            <p class="eventHosts"><strong>Hosted by:</strong> Leader 1 and Host 2</p>
            <p class="eventDate"><strong>Date:</strong> A Date</p>
            <p class="eventDescription"><strong>Description:</strong> A Description</p>
          </div>
        </div>
        <img class="eventImg" src="Graphics/acmlogo.png">
      </li>
    </ul>
  </div>

  <footer> 
    <div class="logoContainer">
     <a href="https://www.instagram.com/ucfacm/"> <img class="insta" src ="Graphics/instagramlogo.png"/></a>
     <a href="https://discord.gg/v5MGt27PsV" > <img class="discord" src="Graphics/discordlogo.png"/></a>
    </div>
   </footer>

</body>
</html>